<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/26323b18c8.js" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>

    <style>
        .article {

            margin: 10px;
            padding: 20px;
            padding-bottom: 2px;
            background-color: rgb(203, 240, 241);
            border-radius: 7px;
            overflow: hidden;

        }

        .p-date {
            color: rgba(133, 34, 247, 0.829);
            font-weight: 500;
            display: inline;
            font-size: 14px;

        }

        .a-container {
            height: 57vh;
            overflow-y: auto;

        }

        .dltBtn {
            border: none;
            padding: 0px 15px;
            background-color: rgba(255, 103, 103, 0.699);
            color: white;

            border-radius: 5px;
            float: right;
            margin-bottom: 5px;
        }

        @media only screen and (max-width: 678px) {
            .body {
                width: 100% !important;

            }
        }
    </style>

    <title>Diary</title>
</head>

<body class="container mx-auto body  w-50">
    <!-- header section  -->
    <header class="row text-white">
        <div class="col-8 bg-primary py-4 border rounded-3">
            <h1 class="ps-lg-4">My Diary</h1>
        </div>
        <div class="col-4 d-flex align-items-center justify-content-center text-center bg-success  border rounded-3">
            <i class="fas fa-feather fs-1 text-white"></i>
        </div>
    </header>
    <main>
        <!-- some information  -->
        <section class="row ">
            <div style="background-color: rgba(236, 106, 97, 0.897);" class="col-12 text-white py-3 border rounded-3">
                <div class="text-center">
                    <h6 class="fw-bold ">Store here All of My Notes</h6>
                    <p><small>Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque, laboriosam.</small>
                    </p>
                </div>
            </div>
        </section>

        <!-- input add button section  -->
        <section class="row bg-info text-white border rounded-3 py-3">
            <!-- input section  -->
            <div class="col-md-4 col-sm-12 pb-4 pb-lg-5 mb-lg-5">
                <label> Topic </label> <br>
                <input class="border-0 w-100 border rounded-3" id="topicName" type="text">

                <label>Add details</label>
                <textarea class="border-0 w-100 border rounded-3" name="" id="textArea" cols="22" rows="7"></textarea>

                <button disabled onclick="addTask()" class="addBtn btn btn-success w-100">Add Note</button>
            </div>

            <!-- all notes section  -->
            <div class="col-md-8 col-sm-12 ">
                <div class="bg-light border rounded-3 text-dark h-100">
                    <h4 class="bg-primary p-1 border rounded-3 text-white text-center ">All Notes</h4>
                    <div id="a-container" class="a-container">

                    </div>
                </div>
            </div>
        </section>
        <section>
            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title text-danger" id="exampleModalLabel">Are You Sure???</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-primary">
                            Its will be delete permanently. Do you want it??
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">NO</button>
                            <button data-bs-dismiss="modal" onclick="deleteTask()" type="button"
                                class="btn btn-danger">Yes</button>
                        </div>
                    </div>
                </div>
            </div>

        </section>


    </main>
    <footer class=" text-white text-center p-2 row bg-primary border rounded-3 pb-0 mb-0">
        <p><small> all Right reserved by Â© Russel 2021</small></p>
    </footer>



    <script>

        let topicsName = document.getElementById("topicName");
        let details = document.getElementById("textArea");
        let container = document.getElementById("a-container");
        let addBtn = document.querySelector(".addBtn");

        details.addEventListener("keyup", function (e) {
            if (topicsName.value != '' && details.value != '') {
                addBtn.removeAttribute('disabled')
            }
        })
        topicsName.addEventListener("keyup", function (e) {
            if (topicsName.value != '' && details.value != '') {
                addBtn.removeAttribute('disabled')
            }
        })


        function addTask() {

            let article = document.createElement('article');
            article.classList.add("article")

            let h4 = document.createElement('h4');
            h4.innerText = topicsName.value;
            topicsName.value = "";

            let hr = document.createElement('hr')

            let pDetails = document.createElement('p');
            pDetails.innerText = details.value;
            details.value = "";


            let pDate = document.createElement('p');
            pDate.classList.add("p-date")

            let today = new Date();
            let time = today.toLocaleTimeString()
            let date = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();

            pDate.innerText = "Date: " + date + " Time: " + time;

            let dltBtn = document.createElement("button");
            dltBtn.innerText = 'Delete';
            dltBtn.setAttribute('type', 'button')
            dltBtn.setAttribute('data-bs-toggle', 'modal')
            dltBtn.setAttribute('data-bs-target', '#exampleModal')

            dltBtn.classList.add("dltBtn")
            dltBtn.classList.add("btn")
            dltBtn.classList.add("dltBtn")

            article.appendChild(h4)
            article.appendChild(hr)
            article.appendChild(pDetails)
            article.appendChild(pDate)
            article.appendChild(dltBtn)
            container.appendChild(article)

            addBtn.setAttribute('disabled', true)
        }
        let parent;
        let parentContainer;
        container.addEventListener('click', function (e) {
            console.log(e.target.className)
            parent = e.target.parentNode

            parentContainer = parent.parentNode

        });
        function deleteTask() {
            console.log(parent, parentContainer)
            parentContainer.removeChild(parent)
        }

    </script>
</body>

</html>